//------------------------------------------------------------------------------------------------------
//------------------------------------------------------------------------------------------------------

#include <iostream>

//------------------------------------------------------------------------------------------------------
//------------------------------------------------------------------------------------------------------

#include "../Utils/Trace.h"
#include "FPSCounter.h"

//------------------------------------------------------------------------------------------------------
//------------------------------------------------------------------------------------------------------

namespace GDX
{
    //------------------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------------------

    FPSCounter::FPSCounter()
    {
        m_fps = 0;
        m_frameCount = 0;
    }

    //------------------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------------------

    void FPSCounter::update()
    {
        m_frameCount++;

        if (m_delayTimer.getElapsedTime().asSeconds() > 0.2)
        {
            m_fps = m_frameCount / m_fpsTimer.restart().asSeconds();
            m_frameCount = 0;
            m_delayTimer.restart();
        }
    }

    //------------------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------------------

    float FPSCounter::GetFPS()
    {
        return m_fps;
    }
}

